spring.application.name=nexus

server.port=8080

# --- Actuator: exposure ---
management.endpoints.web.exposure.include=health,info,metrics,env,threaddump,httpexchanges

# Serve actuator on a separate port (optional)
# management.server.port=8081
# Bind actuator to localhost only (optional hardening)
# management.server.address=127.0.0.1

# Base path (defaults to /actuator)
# management.endpoints.web.base-path=/actuator

# --- Health ---
management.endpoint.health.show-details=when_authorized
management.endpoint.health.probes.enabled=true

# --- Info ---
management.info.env.enabled=true

# --- HTTP exchanges (requires Actuator + HttpExchangeRepository auto-config) ---
management.httpexchanges.recording.enabled=true

# OpenAPI JSON
springdoc.api-docs.path=/v3/api-docs

# Swagger UI page
springdoc.swagger-ui.path=/swagger-ui.html

# (Optional) include actuator endpoints in the docs
springdoc.show-actuator=true

# --- H2 datasource (in-memory) ---
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=sa

# --- H2 Web Console ---
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# --- JPA/Hibernate ---
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# --- Run schema.sql + data.sql on startup ---
spring.sql.init.mode=always
# If you were letting Hibernate create tables and only wanted data.sql after that:
# spring.jpa.defer-datasource-initialization=true

# --- Logging (optional) ---
logging.level.org.hibernate.SQL=debug
